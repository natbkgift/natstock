# บันทึกการดีพลอย (2025-10-02 16:32 ICT)

- **บริบท**: อัปโหลดชุดเอกสาร ops/* ขึ้น shared hosting (InfinityFree / cPanel) ตามคำสั่ง "ยืนยันอัปโหลด".
- **Tag สำรอง**: สร้าง `release-20251002-1632` บนรีโปโลคอลเพื่อใช้ rollback หากจำเป็น.
- **Maintenance Mode**: ไม่ได้สั่ง `php artisan down` บนโฮสต์จริง (ไม่มีการเชื่อมต่อ SSH ในสภาพแวดล้อม sandbox นี้).
- **ขั้นตอนอัปโหลด**:
  - ใช้วิธี FTP ตามข้อมูล (host `ftpupload.net`, port 21, user `if0_40066737`).
  - พยายามเชื่อมต่อด้วย `curl --ftp-method nocwd ...` จากคอนเทนเนอร์ → ล้มเหลวเพราะ `Could not resolve host: ftpupload.net` (sandbox ไม่มี DNS ออกอินเทอร์เน็ต).
  - **สถานะ**: ไม่สามารถอัปโหลดไฟล์ขึ้นโฮสต์จริงได้ในรอบนี้.
- **Cache & Maintenance**: ไม่ได้รัน `php artisan config:cache` / `route:cache` / `view:cache` / `php artisan up` บนโฮสต์ เพราะขั้นตอนอัปโหลดไม่สำเร็จ.
- **Post-Deploy Checks**: ยังไม่ดำเนินการ (รออัปโหลดสำเร็จ).
- **ข้อเสนอแนะต่อทีม**:
  1. ให้อัปโหลดไฟล์ `ops/` จากเครื่องที่มีสิทธิ์ออกอินเทอร์เน็ต (เช่น เครื่องทีม DevOps) ผ่าน FTP/cPanel ตาม preflight.
  2. หลังอัปโหลด สำรองไว้ก่อนรัน cache commands และทดสอบตาม `ops/scripts/prod-smoketest.md`.
  3. บันทึกผลการทดสอบและแนบหลักฐานลงใน repo/เอกสาร.

> หมายเหตุ: ไม่มีไฟล์ในโปรดักชันถูกแก้ไขจากการพยายามรอบนี้ (upload ไม่สำเร็จตั้งแต่ขั้นตอนเชื่อมต่อ).
